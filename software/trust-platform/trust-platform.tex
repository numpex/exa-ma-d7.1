\section{Software: TRUST Platform}
\label{sec:TRUST Platform:software}



\begin{table}[h!]
    \centering
    { \setlength{\parindent}{0pt}
    \def\arraystretch{1.25}
    \arrayrulecolor{numpexgray}
    {\fontsize{9}{11}\selectfont
    \begin{tabular}{!{\color{numpexgray}\vrule}p{.4\textwidth}!{\color{numpexgray}\vrule}p{.6\textwidth}!{\color{numpexgray}\vrule}}
        \rowcolor{numpexgray}{\rule{0pt}{2.5ex}\color{white}\bf Field} & {\rule{0pt}{2.5ex}\color{white}\bf Details} \\
        \rowcolor{white}\textbf{Consortium} & \begin{tabular}{l}
CEA\\
\end{tabular} \\
        \rowcolor{numpexlightergray}\textbf{Exa-MA Partners} & \begin{tabular}{l}
CEA\\
\end{tabular} \\
        \rowcolor{white}\textbf{Contact Emails} & \begin{tabular}{l}
pierre.ledac@cea.fr\\
\end{tabular} \\
        \rowcolor{numpexlightergray}\textbf{Supported Architectures} & \begin{tabular}{l}
CPU Only\\
CPU and GPU\\
GPU Only\\
\end{tabular} \\
        \rowcolor{white}\textbf{Repository} & \href{https://github.com/cea-trust-platform}{https://github.com/cea-trust-platform} \\
        \rowcolor{numpexlightergray}\textbf{License} & \begin{tabular}{l}
OSS::\\
OSS::BSD\\
\end{tabular} \\
        \rowcolor{white}\textbf{Bottlenecks roadmap} & \begin{tabular}{l}
B10 - Scientific Productivity\\
B11 - Reproducibility and Replicability of Computation\\
B6 - Data Management\\
B7 - Exascale Algorithms\\
\end{tabular} \\
        \bottomrule
    \end{tabular}
    }}
    \caption{TRUST Platform Information}
\end{table}

\subsection{Software summary}
\label{sec:TRUST Platform:summary}
TRUST is a versatile open-source CFD tool developed by the CEA since 1993. Initially designed for nuclear applications, TRUST has evolved to tackle a range of thermohydraulic challenges, from one-phase to multi-phase flows. It offers various numerical methods and supports different mesh types for efficient computation on diverse computing platforms, including high-performance computers. Recently, efforts have been made to integrate GPU computing libraries like AmgX, rocALUTION, and Kokkos aiming for a hybrid CPU/GPU code achieving better performance portability.

\subsection{Purpose}
\label{sec:TRUST Platform:purpose}
Purpose not available.

\subsection{Programming and Computational Environment}
\label{sec::TRUST Platform:environment_capabilities}


The following table summarizes these aspects for TRUST Platform, providing a  view of its programming and computational capabilities.

\begin{table}[h!]
    \centering
    {
    \setlength{\parindent}{0pt}
    \def\arraystretch{1.25}
    \arrayrulecolor{numpexgray}
    {\fontsize{9}{11}\selectfont
    \begin{tabular}{lp{.3\textwidth}p{.5\textwidth}}
        \rowcolor{numpexgray}{\rule{0pt}{2.5ex}\color{white}\bf Category}  & {\rule{0pt}{2.5ex}\color{white}\bf Details} & {\rule{0pt}{2.5ex}\color{white}\bf Description}\\
        \rowcolor{white}Languages  & \begin{tabular}{l}
C++\\
\end{tabular} & Programming languages and language standards supported by the software \\
        \rowcolor{numpexlightergray}Parallelism  & \begin{tabular}{l}
GPU\\
MPI\\
\end{tabular} & Parallel computing methods and frameworks utilized by the software.\\
        \rowcolor{white}Data Formats  & \begin{tabular}{l}
HDF5\\
MED\\
VTK\\
in-house format\\
\end{tabular} & Data formats that the software can handle or produce.\\
        \rowcolor{numpexlightergray}Resilience  & \begin{tabular}{l}
Checkpoint restart\\
\end{tabular} & Fault tolerance and recovery mechanisms employed by the software.\\
        \rowcolor{white}DevOps & \begin{tabular}{l}
Continuous Integration\\
\end{tabular} & Outlines the development and operational practices including continuous integration, containerization, and testing methodologies.  \\
        \rowcolor{numpexlightergray}Packaging  & \begin{tabular}{l}
None\\
\end{tabular} & Software packaging and distribution.\\
        \rowcolor{white}Testing  & \begin{tabular}{l}
Unit\\
Verification\\
\end{tabular} & Testing methodologies employed to ensure software quality and correctness.\\
        \rowcolor{numpexlightergray}Containerization  & \begin{tabular}{l}
None\\
\end{tabular} & Container technologies used to package and deploy the software.\\
        \rowcolor{white}Interfaces  & \begin{tabular}{l}
None\\
\end{tabular} & List of software TRUST Platform has interfaces with.\\
        \bottomrule
    \end{tabular}
    }}
    \caption{TRUST Platform programming and computational environment}
\end{table}



\subsection{Mathematics}
\label{sec:TRUST Platform:mathematics}
Mathematics not available.

Solving a TRUST problem requires to select a certain discretization which allows the code to pass the treated equations from a continuous to a discretized form.
Four discretizations are available:

The Finite Volume Difference (VDF) discretization. It is the simplest and the most performant discretization of the TRUST plaform. This discretization is compatible with conform mesh with hexahedral type of elements. As stated by its name, the VDF is a conservative finite volume scheme of Marker-and-Cell (MAC) type. The discretization of each term of the equation is performed by integrating over a control volume. The diffusion gradient terms are approximated by a linear difference equation. All scalars are stored at the center of each control volume except the velocity field which is defined on a staggered mesh.

The Finite Element Volume (VEF) discretization. It is used when the mesh is conform but with tetrahedral elements (triangles in 2D). This numerical scheme combines finite volume and finite elements to integrate in conservative form all conservation equations over the control volumes belonging to the calculation domain. As in the classical Crouzeix–Raviart element, both vector and scalar quantities are located at the centers of the faces. The pressure, however, is located at the vertices and at the center of gravity of a tetrahedral element (in 3D, triangles in 2D). This discretization leads to very good pressure/velocity coupling and has a very dense divergence free basis. Along this staggered mesh arrangement, the unknowns, i.e. the vector and scalar values, are expressed using non-conforming linear shape-functions (P1-nonconforming). The shape function for the pressure is constant for the center of the element (P0) and linear for the vertices (P1).

The PolyMAC-series discretization. It is a series of Marker-and-Cell (MAC) schemes that can handle any type of mesh (non-conform, non-orthogonal, poly-hedral types, …). The numerical description of this schemes is quite complex and depends on the employed version.

The Finite Element (EF) discretization. It implements a classical finite element method.

\subsection{Relevant Publications}
\label{sec:TRUST Platform:publications}

Here is a list of relevant publications related to the software:


\subsection{Acknowledgements}
\label{sec::TRUST Platform:acknowledgements}

The software has been developed with the support of the following funding agencies and institutions: 




Acknowledgements not available.


