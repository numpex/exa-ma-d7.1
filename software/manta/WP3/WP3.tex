\section{Software: MANTA}
\label{sec:WP3:MANTA:software}

\begin{table}[h!]
    \centering
    { \setlength{\parindent}{0pt}
    \def\arraystretch{1.25}
    \arrayrulecolor{numpexgray}
    {\fontsize{9}{11}\selectfont
    \begin{tabular}{!{\color{numpexgray}\vrule}p{.4\textwidth}!{\color{numpexgray}\vrule}p{.6\textwidth}!{\color{numpexgray}\vrule}}
        \rowcolor{numpexgray}{\rule{0pt}{2.5ex}\color{white}\bf Field} & {\rule{0pt}{2.5ex}\color{white}\bf Details} \\
        \rowcolor{white}\textbf{Consortium} & \begin{tabular}{l}
CEA + consortium in development (see EUROPLEXUS)\\
\end{tabular} \\
        \rowcolor{numpexlightergray}\textbf{Exa-MA Partners} & \begin{tabular}{l}
CEA\\
\end{tabular} \\
        \rowcolor{white}\textbf{Contact Emails} & \begin{tabular}{l}
olivier.jamond@cea.fr\\
\end{tabular} \\
        \rowcolor{numpexlightergray}\textbf{Supported Architectures} & \begin{tabular}{l}
CPU Only\\
\end{tabular} \\
        \rowcolor{white}\textbf{Repository} & \href{None}{None} \\
        \rowcolor{numpexlightergray}\textbf{License} & \begin{tabular}{l}
None\\
\end{tabular} \\
        \rowcolor{white}\textbf{Bottlenecks roadmap} & \begin{tabular}{l}
B10 - Scientific Productivity\\
B11 - Reproducibility and Replicability of Computation\\
B6 - Data Management\\
B7 - Exascale Algorithms\\
\end{tabular} \\
        \bottomrule
    \end{tabular}
    }}
    \caption{WP3: MANTA Information}
\end{table}

\subsection{Software Overview}
\label{sec:WP3:MANTA:summary}

In~\cref{tab:WP3:MANTA:features} we provide a summary of the software features relevant to the work package which are briefly discussed.

\begin{table}[h!]
    \centering
    { 
        \setlength{\parindent}{0pt}
        \def\arraystretch{1.25}
        \arrayrulecolor{numpexgray}
        {
            \fontsize{9}{11}\selectfont
            \begin{tabular}{!{\color{numpexgray}\vrule}p{.25\linewidth}!{\color{numpexgray}\vrule}p{.6885\linewidth}!{\color{numpexgray}\vrule}}
    
    \rowcolor{numpexgray}{\rule{0pt}{2.5ex}\color{white}\bf Features} &  {\rule{0pt}{2.5ex}\color{white}\bf Short Description }\\ 
    
\rowcolor{white}    multiphysics coupling & MANTA is intended to be coupled with other software (fluid solver for instance) through the ICoCo standard (\href{https://github.com/cea-trust-platform/icoco-coupling}{https://github.com/cea-trust-platform/icoco-coupling}), as a reference component whose performance to preserve in the partitioned coupling \\
\end{tabular}
        }
    }
    \caption{WP3: MANTA Features}
    \label{tab:WP3:MANTA:features}
\end{table}


\subsection{Parallel Capabilities}
\label{sec:WP3:MANTA:performances}


\begin{itemize}
    \item MANTA is intended to run in full MPI (CPU) mode for the first tasks in Exa-MA. Perspectives for GPU and hybrid CPU-GPU modes are expected as a second step.
    \item The parallel computation environment are personal computers, clusters, and super computers: e.g. Adastra (CINES), Jean-Zay (IDRIS), Topaze (CCRT)
    \item \textbf{Integration with Other Systems:} MANTA strongly integrates with the linear algebra library PETSc developed and improved in the Exa-Ma framework. It thus serves for the practical evaluation of the integral performance gain provided by the project in representative physical cases of interest in the field on Computational Mechanics.
\end{itemize}


\subsection{Initial Performance Metrics}
\label{sec:WP3:MANTA:metrics}

Building the reference metrics for MANTA, in good connection with the work scheduled within WP3, is a work-in-progress, with actual tests to be selected and packaged during next year. They are intended to emphasize on the link between Manta and PETSc in the field of computational mechanics, with the following strategy:

\begin{itemize}
    \item \textbf{Test(s) with explicit time integration:} They will test the \textit{assembly} steps of the problem and the data transfer between processes within PETSc, mandatory to separate from the solver performance for a correct understanding of the global performance results for very complex cases.
    \item \textbf{Test(s) with implicit time integration:} They will test the actual  performance of the PETSc solver, with two classes of problem of great interest:
    \begin{itemize}
       \item \textbf{Positive Definite Problem(s):} The focus will be given here to very large problems with poor conditioning of the system, for instance due to different materials in the model with several orders of magnitude between their respective mechanical properties. Extended analyses in this situation are currently carried out at CEA, in terms of both numerical performances and robustness of the solution. Some of theses tests have been performed in full MPI mode over more than 15 000 cores, with scalability results yet to be fully packaged and documented.
       \item \textbf{Saddle-point Problem(s):} In the case of MANTA, they will mostly arise from large scale contact problems and will test the capabilities of PETSc to handle such problems in the case where the dual unknowns (i.e. contact forces seen as Lagrange Multipliers) are not uniformly distributed in the model).
    \end{itemize}
\end{itemize}


\subsection{12-Month Roadmap}
\label{sec:WP3:MANTA:roadmap}

The 12-Month Roadmap for MANTA is mainly dedicated to the selection of the relevant tests following the guidelines of previous section and their implementation in the methodology proposed in section \ref{sec:methodology-types}, in terms of scalability analysis for CPU in a first step.\\
\\
Practically:
\begin{itemize}
    \item \textbf{Data availability:} Data for the selected benchmarks will be made available in a format readable with open-source only software, namely from the Salome environment (\href{https://www.salome-platform.org/}{https://www.salome-platform.org/}).
    \item \textbf{Software availability: } An open version of the software will be made available for the benchmarks, with a possible limitation of the available features to cope with the license environment of MANTA, but providing all the necessary content for reliable and wide-range performance analyses.
    \item \textbf{Methodology Application:} Implementation of the benchmarking methodology in terms of scalability measurements, with a particular focus on the selection of the relevant output data and associated tolerance for the reproducibility guarantee.
    \item \textbf{Results Retention:} Benchmark results will be stored and made available with the suitable level of metadata and documentation through a dedicated repository proposed by the Exa-MA project.
\end{itemize}

In~\cref{tab:WP3:MANTA:bottlenecks}, we briefly discuss the bottleneck roadmap associated to the software and relevant to the work package.

\begin{table}[h!]
    \centering
    
    

    \centering
    { 
        \setlength{\parindent}{0pt}
        \def\arraystretch{1.25}
        \arrayrulecolor{numpexgray}
        {
            \fontsize{9}{11}\selectfont
            \begin{tabular}{!{\color{numpexgray}\vrule}p{.25\linewidth}!{\color{numpexgray}\vrule}p{.6885\linewidth}!{\color{numpexgray}\vrule}}
    
    \rowcolor{numpexgray}{\rule{0pt}{2.5ex}\color{white}\bf Bottlenecks} &  {\rule{0pt}{2.5ex}\color{white}\bf Short Description }\\ 
    
\rowcolor{white}    B10 - Scientific Productivity & Accelerate the access to large scale numerical results to enhance knowledge and speed-up engineering operations in the field of computational mechanics. \\
\rowcolor{numpexlightergray}    B11 - Reproducibility and Replicability of Computation & Ensure the reliability of the results for large scale and complex simulation independently from the computer and the selected run-mode (CPU initially, GPU and hybrid as perspectives for the future). \\
\rowcolor{white}    B6 - Data Management & This bottleneck is indirectly addressed for MANTA through the availability of the benchmark datasets and the collection of the results. \\
\rowcolor{numpexlightergray}    B7 - Exascale Algorithms & Benefit from the latest improvement in linear algebra libraries, quantify the practical gains on representative applications and track/characterize the remaining bottlenecks for the global performance. Use MANTA as a reference component for the analysis of the performance of partitioned coupling at exascale.\\
\end{tabular}
        }
    }
    \caption{WP3: MANTA plan with Respect to Relevant Bottlenecks}
    \label{tab:WP3:MANTA:bottlenecks}
\end{table}