\section{Software: Composyx}
\label{sec:WP3:Composyx:software}

\begin{table}[h!]
    \centering
    { \setlength{\parindent}{0pt}
    \def\arraystretch{1.25}
    \arrayrulecolor{numpexgray}
    {\fontsize{9}{11}\selectfont
    \begin{tabular}{!{\color{numpexgray}\vrule}p{.4\textwidth}!{\color{numpexgray}\vrule}p{.6\textwidth}!{\color{numpexgray}\vrule}}
        \rowcolor{numpexgray}{\rule{0pt}{2.5ex}\color{white}\bf Field} & {\rule{0pt}{2.5ex}\color{white}\bf Details} \\
        \rowcolor{white}\textbf{Consortium} & \begin{tabular}{l}
None\\
\end{tabular} \\
        \rowcolor{numpexlightergray}\textbf{Exa-MA Partners} & \begin{tabular}{l}
Inria BXSO\\
\end{tabular} \\
        \rowcolor{white}\textbf{Contact Emails} & \begin{tabular}{l}
gilles.marait@inria.fr\\
\end{tabular} \\
        \rowcolor{numpexlightergray}\textbf{Supported Architectures} & \begin{tabular}{l}
CPU Only\\
\end{tabular} \\
        \rowcolor{white}\textbf{Repository} & \href{https://gitlab.inria.fr/composyx/composyx}{https://gitlab.inria.fr/composyx/composyx} \\
        \rowcolor{numpexlightergray}\textbf{License} & \begin{tabular}{l}
OSS: Cecill-*\\
\end{tabular} \\
        \rowcolor{white}\textbf{Bottlenecks roadmap} & \begin{tabular}{l}
B10 - Scientific Productivity\\
B11 - Reproducibility and Replicability of Computation\\
B6 - Data Management\\
B7 - Exascale Algorithms\\
\end{tabular} \\
        \bottomrule
    \end{tabular}
    }}
    \caption{WP3: Composyx Information}
\end{table}

\subsection{Software Overview}
\label{sec:WP3:Composyx:summary}

In~\cref{tab:WP3:Composyx:features} we provide a summary of the software features relevant to the work package which are briefly discussed.

\begin{table}[h!]
    \centering
    { 
        \setlength{\parindent}{0pt}
        \def\arraystretch{1.25}
        \arrayrulecolor{numpexgray}
        {
            \fontsize{9}{11}\selectfont
            \begin{tabular}{!{\color{numpexgray}\vrule}p{.25\linewidth}!{\color{numpexgray}\vrule}p{.6885\linewidth}!{\color{numpexgray}\vrule}}
    
    \rowcolor{numpexgray}{\rule{0pt}{2.5ex}\color{white}\bf Features} &  {\rule{0pt}{2.5ex}\color{white}\bf Short Description }\\ 
    
\rowcolor{white}    "singular value decomposition (SVD) and eigenvalue solver" & Provide randomized EVD and SVD partial decomposition \\
\rowcolor{numpexlightergray}    direct solver & provide interface to MUMPS, PaStiX and qr\_mumps \\
\rowcolor{white}    krylov solver & provide interface to Fabulous that implement various subspace methods and their block-counterpart \\
        \bottomrule
\end{tabular}
        }
    }
    \caption{WP3: Composyx Features}
    \label{tab:WP3:Composyx:features}
\end{table}


\subsection{Parallel Capabilities}
\label{sec:WP3:Composyx:performances}


\begin{itemize}
    \item \textbf{Parallel Environment :} MPI+ threads and not fully assess MPI+StarPU for heterogeneous manycores.
    \item \textbf{Computation environment :} Distributed manycores (GENCI platforms, BSC)
    %\item describe the parallel capabilities of the software
    \item \textbf{Scalability:} weak scalability on up-to $\approx$ 20~000 cores for the solution of a $\approx 10^9$ linear system. 
    \item \textbf{Integration with Other Systems:} No integration into other Exa-Ma software yet.
\end{itemize}


\subsection{Initial Performance Metrics}
\label{sec:WP3:Composyx:metrics}

This section provides a summary of initial performance benchmarks performed in the context of WP3. It ensures reproducibility by detailing input/output datasets, benchmarking tools, and the results. All data should be publicly available, ideally with a DOI for future reference.

\begin{itemize}
    \item \textbf{Overall Performance:} weak scalability on up-to $\approx$ 20~000 cores for the solution of a $\approx 10^9$ linear system. 
    \item \textbf{Input/Output Dataset:} not applicable.
    \item \textbf{open-data Access:} Benchmark on matrix generator distributed on the gitlab of the package.
%    \item \textbf{Challenges:} Identify any significant bottlenecks or challenges observed during the benchmarking process, including data handling and computational performance.
    \item \textbf{Future Improvements:} perform more exhaustive experiments on heteroneous nodes, that is using the MPI+StarPU option.
\end{itemize}

\subsubsection{Benchmark \#1: heterogeneous diffusion }
\begin{itemize}
    \item \textbf{Description:} Solution of a 3D heterogenous diffusion Ã©quations in a cube to enable a parallel generation of the benchmark.
    \item \textbf{Benchmarking Tools Used:} Metrics are memory consumption and elapsed time to solution.
    \item \textbf{Input/Output Dataset Description:} internal processing of the output to perform 
    \item \textbf{Results Summary:} Speedups
    \item \textbf{Challenges Identified:} scalability at extreme scale.
\end{itemize}

\subsection{12-Month Roadmap}
\label{sec:WP3:Composyx:roadmap}

In this section, describe the roadmap for improving benchmarks and addressing the challenges identified. This should include:
\begin{itemize}
    \item \textbf{Data Improvements:} Use other matrix generator using some of the packages developped within Ex-Ma such as FreeFEM++ and/or Feel++.
    \item \textbf{Methodology Application:} Implementation of the benchmarking methodology proposed in this deliverable to streamline reproducibility and dataset management.
    \item \textbf{Results Retention:} We will consider to publish  on the gitlab of the packages the performance results produced by the CI.
\end{itemize}

In~\cref{tab:WP3:Composyx:bottlenecks}, we briefly discuss the bottleneck roadmap associated to the software and relevant to the work package.

\begin{table}[h!]
    \centering
    \centering
    { 
        \setlength{\parindent}{0pt}
        \def\arraystretch{1.25}
        \arrayrulecolor{numpexgray}
        {
            \fontsize{9}{11}\selectfont
            \begin{tabular}{!{\color{numpexgray}\vrule}p{.25\linewidth}!{\color{numpexgray}\vrule}p{.6885\linewidth}!{\color{numpexgray}\vrule}}
    
    \rowcolor{numpexgray}{\rule{0pt}{2.5ex}\color{white}\bf Bottlenecks} &  {\rule{0pt}{2.5ex}\color{white}\bf Short Description }\\ 
    
\rowcolor{white}    B10 - Scientific Productivity & Guix-HPC \\
\rowcolor{numpexlightergray}    B11 - Reproducibility and Replicability of Computation & Guix-HPC \\
\rowcolor{white}    B6 - Data Management & not applicable \\
\rowcolor{numpexlightergray}    B7 - Exascale Algorithms & Tune CPU and GPU features - Possibly add numerical resiliency eventhough we still believe that the resilincy should be addressed in an hollistic fashion as advocated in~\cite{agullo_resiliency_2022}. \\
\end{tabular}
        }
    }
    \caption{WP3: Composyx plan with Respect to Relevant Bottlenecks}
    \label{tab:WP3:Composyx:bottlenecks}
\end{table}
